<div class="flex h-screen bg-gray-100">
  <!-- Sidebar -->
  <aside :class="[
      'fixed inset-y-0 left-0 z-30 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out',
      isSidebarOpen ? 'translate-x-0' : '-translate-x-full',
      'md:relative md:translate-x-0'
    ]" aria-label="Sidebar">
    <!-- Logo Bölümü -->
    <div class="p-6 flex items-center justify-center border-b">
      <h1 class="text-2xl font-bold text-indigo-600">Interview Genie</h1>
    </div>
    <!-- Navigasyon Menüsü -->
    <nav class="flex-1 px-2 py-4 space-y-2">
      <a routerLink="/interviews/dashboard" routerLinkActive="bg-blue-600 text-white"
        class="group flex items-center px-4 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-blue-600 hover:text-white transition-colors"
        (click)="closeSidebar()">
        <svg class="mr-3 h-6 w-6 text-gray-400 group-hover:text-white" xmlns="http://www.w3.org/2000/svg" fill="none"
          viewBox="0 0 24 24" stroke="currentColor">
          <!-- Dashboard Icon -->
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M13 5v6h6" />
        </svg>
        Ana Sayfa
      </a>
      <a routerLink="/interviews/create-interview" routerLinkActive="bg-blue-600 text-white"
        class="group flex items-center px-4 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-blue-600 hover:text-white transition-colors"
        (click)="closeSidebar()">
        <svg class="mr-3 h-6 w-6 text-gray-400 group-hover:text-white" xmlns="http://www.w3.org/2000/svg" fill="none"
          viewBox="0 0 24 24" stroke="currentColor">
          <!-- Create Icon -->
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
        </svg>
        Mülakat Oluştur
      </a>
      <a routerLink="/profile/view" routerLinkActive="bg-blue-600 text-white"
        class="group flex items-center px-4 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-blue-600 hover:text-white transition-colors"
        (click)="closeSidebar()">
        <svg class="mr-3 h-6 w-6 text-gray-400 group-hover:text-white" xmlns="http://www.w3.org/2000/svg" fill="none"
          viewBox="0 0 24 24" stroke="currentColor">
          <!-- Profile Icon -->
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M5.121 17.804A4.992 4.992 0 015 16V5a2 2 0 012-2h10a2 2 0 012 2v11c0 .743-.201 1.442-.555 2.048M15 14h.01M12 14h.01M9 14h.01M12 20.25c-1.95 0-3.729-.632-5.121-1.696" />
        </svg>
        Profilim
      </a>
      <a routerLink="/profile/edit" routerLinkActive="bg-blue-600 text-white"
        class="group flex items-center px-4 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-blue-600 hover:text-white transition-colors"
        (click)="closeSidebar()">
        <svg class="mr-3 h-6 w-6 text-gray-400 group-hover:text-white" xmlns="http://www.w3.org/2000/svg" fill="none"
          viewBox="0 0 24 24" stroke="currentColor">
          <!-- Edit Icon -->
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 20h9" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M16.5 3.5a2.121 2.121 0 013 3L7 19H4v-3L16.5 3.5z" />
        </svg>
        Profil Düzenle
      </a>
    </nav>
  </aside>

  <!-- Overlay -->
  <div *ngIf="isSidebarOpen" class="fixed inset-0 z-20 bg-black opacity-50 md:hidden" (click)="toggleSidebar()"
    aria-hidden="true"></div>

  <!-- Main Content -->
  <div class="flex-1 flex flex-col">
    <!-- Header -->
    <header class="bg-white shadow-md p-4 flex justify-between items-center">
      <div class="flex items-center">
        <!-- Hamburger Menü (Sadece Mobilde Görünür) -->
        <button class="mr-4 text-gray-500 focus:outline-none md:hidden" (click)="toggleSidebar()"
          aria-label="Toggle sidebar">
          <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
        <h1 class="text-2xl font-semibold text-gray-700">{{ pageTitle }}</h1> <!-- Dinamik Başlık -->
      </div>
      <!-- Profil Bilgisi ve Dropdown -->
      <div class="flex items-center space-x-4 relative">
        <!-- Kullanıcı Bilgisi (Sadece Masaüstünde Görünür) -->
        <div class="text-right hidden md:block">
          <p class="text-sm font-medium text-gray-700">{{ user.username }}</p>
          <p class="text-xs text-gray-500">{{ user.email }}</p>
        </div>
        <!-- Kullanıcı Profil Simgesi -->
        <button id="dropdown-button"
          class="h-10 w-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold border focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
          (click)="toggleDropdown()" aria-haspopup="true" [attr.aria-expanded]="isDropdownOpen" aria-label="User menu">
          {{ user.username | slice: 0:2 | uppercase }}
        </button>
        <!-- Dropdown Menü -->
        <div *ngIf="isDropdownOpen" id="user-dropdown"
          class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-50 animate-fade-in" role="menu"
          aria-orientation="vertical" aria-labelledby="dropdown-button">
          <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center"
            (click)="logout()" role="menuitem">
            <svg class="h-5 w-5 mr-2 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <!-- Logout Icon -->
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
            </svg>
            Çıkış Yap
          </a>
        </div>
      </div>
    </header>

    <!-- Router Outlet -->
    <main class="p-6 overflow-auto bg-gray-50 flex-1">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>