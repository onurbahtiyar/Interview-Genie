<div class="flex min-h-screen bg-gray-100">
  <!-- Sidebar -->
  <aside
    [ngClass]="[
      'bg-white shadow-lg transform transition-transform duration-300 ease-in-out w-64 z-30',
      isSidebarOpen ? 'translate-x-0' : '-translate-x-full',
      'absolute inset-y-0 left-0 md:relative md:translate-x-0 md:inset-0'
    ]"
    aria-label="Sidebar"
  >
    <!-- Logo BÃ¶lÃ¼mÃ¼ -->
    <a href="/interviews/dashboard" class="flex items-center p-3 border-b border-gray-200 hover:bg-indigo-50 transition-colors duration-300" aria-label="Ana Sayfa">
      <!-- Ä°kon -->
      <div class="bg-indigo-600 p-2 rounded-lg mr-3 flex-shrink-0">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m0 14v1m8-8h-1M4 12H3m15.364-6.364l-.707.707M6.343 17.657l-.707.707m12.728 0l-.707-.707M6.343 6.343l-.707-.707" />
        </svg>
      </div>
      <!-- Metin -->
      <span class="text-lg font-semibold text-indigo-600">Interview Genie</span>
    </a>

    <!-- Navigasyon MenÃ¼sÃ¼ -->
    <nav class="flex-1 px-2 py-4 space-y-2">
      <!-- Ana Sayfa -->
      <a
        routerLink="/interviews/dashboard"
        routerLinkActive="bg-blue-600 text-white"
        class="group flex items-center px-4 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-blue-600 hover:text-white transition-colors"
        (click)="closeSidebar()"
      >
        <svg
          class="mr-3 h-6 w-6 text-gray-400 group-hover:text-white"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          aria-hidden="true"
        >
          <!-- Dashboard Icon -->
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M3 12l2-2m0 0l7-7 7 7M13 5v6h6"
          />
        </svg>
        Ana Sayfa
      </a>
      <!-- MÃ¼lakat OluÅŸtur -->
      <a
        routerLink="/interviews/create-interview"
        routerLinkActive="bg-blue-600 text-white"
        class="group flex items-center px-4 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-blue-600 hover:text-white transition-colors"
        (click)="closeSidebar()"
      >
        <svg
          class="mr-3 h-6 w-6 text-gray-400 group-hover:text-white"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          aria-hidden="true"
        >
          <!-- Create Icon -->
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
        </svg>
        MÃ¼lakat OluÅŸtur
      </a>
      <!-- Profilim -->
      <a
        routerLink="/profile/view"
        routerLinkActive="bg-blue-600 text-white"
        class="group flex items-center px-4 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-blue-600 hover:text-white transition-colors"
        (click)="closeSidebar()"
      >
        <svg
          class="mr-3 h-6 w-6 text-gray-400 group-hover:text-white"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          aria-hidden="true"
        >
          <!-- Profile Icon -->
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5.121 17.804A4.992 4.992 0 015 16V5a2 2 0 012-2h10a2 2 0 012 2v11c0 .743-.201 1.442-.555 2.048M15 14h.01M12 14h.01M9 14h.01M12 20.25c-1.95 0-3.729-.632-5.121-1.696"
          />
        </svg>
        Profilim
      </a>
      <!-- Profil DÃ¼zenle -->
      <a
        routerLink="/profile/edit"
        routerLinkActive="bg-blue-600 text-white"
        class="group flex items-center px-4 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-blue-600 hover:text-white transition-colors"
        (click)="closeSidebar()"
      >
        <svg
          class="mr-3 h-6 w-6 text-gray-400 group-hover:text-white"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          aria-hidden="true"
        >
          <!-- Edit Icon -->
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 20h9" />
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M16.5 3.5a2.121 2.121 0 013 3L7 19H4v-3L16.5 3.5z"
          />
        </svg>
        Profil DÃ¼zenle
      </a>
    </nav>
  </aside>

  <!-- Overlay -->
  <div
    *ngIf="isSidebarOpen"
    class="fixed inset-0 z-20 bg-black opacity-50 md:hidden"
    (click)="toggleSidebar()"
    aria-hidden="true"
  ></div>

  <!-- Main Content -->
  <div class="flex-1 flex flex-col">
    <!-- Header -->
    <header class="bg-gray-50 shadow-sm p-4 flex justify-between items-center">
      <div class="flex items-center">
        <!-- Hamburger MenÃ¼ (Sadece Mobilde GÃ¶rÃ¼nÃ¼r) -->
        <button
          class="mr-3 text-gray-500 focus:outline-none md:hidden"
          (click)="toggleSidebar()"
          aria-label="Toggle sidebar"
        >
          <svg
            class="h-6 w-6"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
        <!-- BaÅŸlÄ±k -->
        <h1 class="text-xl font-medium text-gray-700">{{ pageTitle }}</h1>
      </div>
      <!-- Profil Bilgisi ve Dropdown -->
      <div class="flex items-center space-x-2 relative">
        <!-- KullanÄ±cÄ± Bilgisi (Sadece MasaÃ¼stÃ¼nde GÃ¶rÃ¼nÃ¼r) -->
        <div class="hidden md:flex flex-col space-y-0.5 text-right">
          <p class="text-sm text-gray-700">{{ user.username }}</p>
          <p class="text-xs text-gray-500">{{ user.email }}</p>
        </div>
        <!-- KullanÄ±cÄ± Profil Simgesi -->
        <button
          id="dropdown-button"
          class="h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center text-white text-sm font-semibold border focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
          (click)="toggleDropdown()"
          aria-haspopup="true"
          [attr.aria-expanded]="isDropdownOpen"
          aria-label="User menu"
        >
          {{ user.username | slice: 0:2 | uppercase }}
        </button>
        <!-- Dropdown MenÃ¼ -->
        <div
          *ngIf="isDropdownOpen"
          id="user-dropdown"
          class="absolute right-0 mt-2 w-40 bg-white rounded-md shadow-lg z-50"
          role="menu"
          aria-orientation="vertical"
          aria-labelledby="dropdown-button"
        >
          <a
            href="#"
            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center"
            (click)="logout()"
            role="menuitem"
          >
            <svg
              class="h-5 w-5 mr-2 text-gray-400"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              aria-hidden="true"
            >
              <!-- Logout Icon -->
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
              />
            </svg>
            Ã‡Ä±kÄ±ÅŸ Yap
          </a>
        </div>
      </div>
    </header>

    <!-- Router Outlet -->
    <main class="p-4 md:p-6 overflow-y-auto bg-white flex-1">
      <router-outlet></router-outlet>
    </main>

    <!-- Footer -->
    <footer class="bg-white p-4 md:p-6 flex flex-col md:flex-row justify-between items-center text-sm text-gray-600">
      <p class="flex items-center mb-2 md:mb-0">
        <span class="emoji text-xl mr-2">ðŸš€</span> Developed for the BTK Hackathon.
      </p>
      <div class="flex space-x-4">
        <a href="https://github.com/onurbahtiyar" target="_blank" class="hover:text-gray-800" aria-label="GitHub">
          <!-- GitHub SVG -->
          <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path
              d="M12 0C5.37 0 0 5.373 0 12c0 5.302 3.438 9.8 8.205 11.387.6.113.82-.258.82-.577v-2.234c-3.338.727-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.744.082-.729.082-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.997.108-.775.42-1.305.763-1.605-2.665-.305-5.467-1.334-5.467-5.931 0-1.31.467-2.381 1.235-3.221-.123-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.3 1.23a11.48 11.48 0 013.003-.404c1.02.005 2.045.138 3.003.404 2.29-1.552 3.297-1.23 3.297-1.23.654 1.653.242 2.874.12 3.176.77.84 1.233 1.911 1.233 3.221 0 4.61-2.807 5.623-5.48 5.921.431.372.816 1.102.816 2.222v3.293c0 .32.216.694.825.576C20.565 21.796 24 17.298 24 12c0-6.627-5.373-12-12-12z"
            />
          </svg>
        </a>
        <a href="https://linkedin.com/in/onur-bahtiyar" target="_blank" class="hover:text-gray-800" aria-label="LinkedIn">
          <!-- LinkedIn SVG -->
          <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path
              d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.762 2.239 5 5 5h14c2.761 0 5-2.238 5-5v-14c0-2.761-2.239-5-5-5zm-11 19h-3v-9h3v9zm-1.5-10.3c-.966 0-1.5-.677-1.5-1.522 0-.861.548-1.522 1.534-1.522s1.5.661 1.5 1.522c0 .845-.534 1.522-1.534 1.522zm13.5 10.3h-3v-4.816c0-1.213-.433-2.042-1.519-2.042-.828 0-1.321.562-1.537 1.105-.079.192-.099.461-.099.731v5.022h-3s.039-8.146 0-9h3v1.277c.396-.612 1.104-1.482 2.684-1.482 1.961 0 3.432 1.28 3.432 4.036v5.169z"
            />
          </svg>
        </a>
      </div>
    </footer>
  </div>
</div>
